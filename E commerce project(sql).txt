# üõí E-Commerce Database (SQL Project)

This project is a MySQL-based database for a simple online store.  
It demonstrates:

- Relational database design
- Foreign keys & indexing
- Analytical SQL queries
- Joins, aggregates, and filtering

## üìÅ Project Files

- `schema.sql` ‚Äî Creates all tables  
- `data.sql` ‚Äî Inserts sample data  
- `queries/*` ‚Äî Example SQL queries (basic, joins, analytics)

## üóÑ Tables

- **Customers**
- **Products**
- **Orders**
- **Order_Items**
- **Payments**

## üöÄ Features Demonstrated

- One-to-many and many-to-many relationships  
- Sales reporting  
- Customer insights  
- Revenue analytics  
- Product performance  

## ‚úî How to Use

1. Run `schema.sql`  
2. Run `data.sql`  
3. Try queries inside the `queries/` folder  

Feel free to modify and expand the project!

CREATE TABLE customers (
    customer_id INT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE,
    city VARCHAR(100)
);

CREATE TABLE products (
    product_id INT PRIMARY KEY,
    name VARCHAR(150) NOT NULL,
    price DECIMAL(10,2) NOT NULL,
    stock INT NOT NULL
);

CREATE TABLE orders (
    order_id INT PRIMARY KEY,
    customer_id INT,
    order_date DATE,
    FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);

CREATE TABLE order_items (
    item_id INT PRIMARY KEY,
    order_id INT,
    product_id INT,
    quantity INT,
    FOREIGN KEY (order_id) REFERENCES orders(order_id),
    FOREIGN KEY (product_id) REFERENCES products(product_id)
);

CREATE TABLE payments (
    payment_id INT PRIMARY KEY,
    order_id INT,
    amount DECIMAL(10,2),
    payment_date DATE,
    FOREIGN KEY (order_id) REFERENCES orders(order_id)
);

INSERT INTO customers (customer_id, name, email, city) VALUES
(1, 'Alice Johnson', 'alice@email.com', 'New York'),
(2, 'Bob Smith', 'bob@email.com', 'Los Angeles'),
(3, 'Carla Brown', 'carla@email.com', 'Chicago');

INSERT INTO products (product_id, name, price, stock) VALUES
(1, 'Wireless Mouse', 25.99, 50),
(2, 'Keyboard', 45.49, 30),
(3, 'Laptop Stand', 35.00, 20),
(4, 'USB Cable', 9.99, 100);

INSERT INTO orders (order_id, customer_id, order_date) VALUES
(1, 1, '2024-01-15'),
(2, 2, '2024-01-16'),
(3, 1, '2024-01-18');

INSERT INTO order_items (item_id, order_id, product_id, quantity) VALUES
(1, 1, 1, 2),
(2, 1, 4, 1),
(3, 2, 2, 1),
(4, 3, 3, 1),
(5, 3, 4, 2);

INSERT INTO payments (payment_id, order_id, amount, payment_date) VALUES
(1, 1, 61.97, '2024-01-15'),
(2, 2, 45.49, '2024-01-16'),
(3, 3, 54.98, '2024-01-18');

-- Query Basics;
-- View all customers
SELECT * FROM customers;

-- View all products
SELECT * FROM products;

-- View all orders
SELECT * FROM orders;

-- Query Joins;
-- Orders with customer names
SELECT o.order_id, c.name, o.order_date 
FROM orders o
JOIN customers c ON o.customer_id = c.customer_id;

-- Items in each order with product names
SELECT oi.order_id, p.name, oi.quantity
FROM order_items oi
JOIN products p ON oi.product_id = p.product_id;

-- Payments with customer info
SELECT pay.payment_id, c.name, pay.amount, pay.payment_date
FROM payments pay
JOIN orders o ON pay.order_id = o.order_id
JOIN customers c ON o.customer_id = c.customer_id;

-- Queries Analytics;
-- Total revenue
SELECT SUM(amount) AS total_revenue
FROM payments;

-- Most purchased products
SELECT p.name, SUM(oi.quantity) AS total_sold
FROM order_items oi
JOIN products p ON oi.product_id = p.product_id
GROUP BY p.name
ORDER BY total_sold DESC;

-- Customer order count
SELECT c.name, COUNT(o.order_id) AS total_orders
FROM customers c
LEFT JOIN orders o ON c.customer_id = o.customer_id
GROUP BY c.name;

-- Top spending customers
SELECT c.name, SUM(pay.amount) AS total_spent
FROM payments pay
JOIN orders o ON pay.order_id = o.order_id
JOIN customers c ON o.customer_id = c.customer_id
GROUP BY c.name
ORDER BY total_spent DESC;





